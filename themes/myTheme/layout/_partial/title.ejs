<div id="title-div">
    <div id="title-content">
        <img src="images/profile.png">
        <h1>Hi! I'm <b><%= config.author %></b>.</h1>
        <h2><%= site.data.selfData.short %></h2>
        <a href="#footer-div">Contact me</a>
    </div>
    <div id="down"><a href="#about-div"><i class="fa fa-chevron-down"></i></a></div>
    <script>
        var scene = new THREE.Scene();
        let titleWidth = $("#title-div").width();
        let titleHeight = $("#title-div").height();
        // (fov, aspect ratio, near, far)
        var camera = new THREE.PerspectiveCamera(75, titleWidth / titleHeight, 0.1, 1000);
        var renderer = new THREE.WebGLRenderer({alpha: true});
        renderer.setSize(titleWidth, titleHeight);
        $("#title-div").append(renderer.domElement);
        var geometry = new THREE.ConeGeometry(0.5, 1, 3);
        var material = new THREE.MeshBasicMaterial({color: 0x000000});
        var pyramid = new THREE.Mesh(geometry, material);

        let positionX = 0;
        for (let t = 0; t < 3; ++t) {
            let positionZ = 0;
            // mid 
            positionX += 5;
            material = new THREE.MeshBasicMaterial({color: 0xC26868});
            for (let x = 0; x < 80; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 10;
                scene.add(pyramid);
            }
            positionX += 15;
            // hori
            material = new THREE.MeshBasicMaterial({color: 0x828A9E});
            positionZ = 0;
            for (let t = 0; t < 6; ++t) {
                positionZ = 0;
                for (let x = 0; x < 10; ++x) {
                    pyramid = new THREE.Mesh(geometry, material);
                    pyramid.position.x = positionX;
                    pyramid.position.z = positionZ;
                    positionZ -= 80;
                    scene.add(pyramid);
                }
                positionX += 5;
            }
            positionX += 15;
            // outer
            material = new THREE.MeshBasicMaterial({color: 0x000000});
            positionZ = 0;
            for (let x = 0; x < 40; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 20;
                scene.add(pyramid);
            }
            positionX += 150;
            // inner
            material = new THREE.MeshBasicMaterial({color: 0x000000});
            positionZ = 0;
            for (let x = 0; x < 40; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 20;
                scene.add(pyramid);
            }
            positionX += 20;
            // hori
            material = new THREE.MeshBasicMaterial({color: 0x828A9E});
            positionZ = 0;
            for (let t = 0; t < 6; ++t) {
                positionZ = 0;
                for (let x = 0; x < 10; ++x) {
                    pyramid = new THREE.Mesh(geometry, material);
                    pyramid.position.x = positionX;
                    pyramid.position.z = positionZ;
                    positionZ -= 80;
                    scene.add(pyramid);
                }
                positionX += 5;
            }
            positionX += 10;
            // mid 
            positionZ = 0;
            material = new THREE.MeshBasicMaterial({color: 0xC26868});
            for (let x = 0; x < 80; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 10;
                scene.add(pyramid);
            }
            positionX += 5;
        }

        positionX = -0;
        for (let t = 0; t < 3; ++t) {
            let positionZ = 0;
            // mid 
            positionX -= 5;
            material = new THREE.MeshBasicMaterial({color: 0xC26868});
            for (let x = 0; x < 80; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 10;
                scene.add(pyramid);
            }
            positionX -= 15;
            // hori
            material = new THREE.MeshBasicMaterial({color: 0x828A9E});
            positionZ = 0;
            for (let t = 0; t < 6; ++t) {
                positionZ = 0;
                for (let x = 0; x < 10; ++x) {
                    pyramid = new THREE.Mesh(geometry, material);
                    pyramid.position.x = positionX;
                    pyramid.position.z = positionZ;
                    positionZ -= 80;
                    scene.add(pyramid);
                }
                positionX -= 5;
            }
            positionX -= 15;
            // outer
            material = new THREE.MeshBasicMaterial({color: 0x000000});
            positionZ = 0;
            for (let x = 0; x < 40; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 20;
                scene.add(pyramid);
            }
            positionX -= 150;
            // inner
            material = new THREE.MeshBasicMaterial({color: 0x000000});
            positionZ = 0;
            for (let x = 0; x < 40; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 20;
                scene.add(pyramid);
            }
            positionX -= 20;
            // hori
            material = new THREE.MeshBasicMaterial({color: 0x828A9E});
            positionZ = 0;
            for (let t = 0; t < 6; ++t) {
                positionZ = 0;
                for (let x = 0; x < 10; ++x) {
                    pyramid = new THREE.Mesh(geometry, material);
                    pyramid.position.x = positionX;
                    pyramid.position.z = positionZ;
                    positionZ -= 80;
                    scene.add(pyramid);
                }
                positionX -= 5;
            }
            positionX -= 10;
            // mid 
            positionZ = 0;
            material = new THREE.MeshBasicMaterial({color: 0xC26868});
            for (let x = 0; x < 80; ++x) {
                pyramid = new THREE.Mesh(geometry, material);
                pyramid.position.x = positionX;
                pyramid.position.z = positionZ;
                positionZ -= 10;
                scene.add(pyramid);
            }
            positionX -= 5;
        }

        camera.position.z = 30;
        camera.position.y = 20;

        var windowHalfX = window.innerWidth / 2;
        var windowHalfY = window.innerHeight / 2;
        var mouseX = 0, mouseY = 0;
        document.addEventListener( 'mousemove', onDocumentMouseMove, false );

        function onDocumentMouseMove( event ) {
            mouseX = event.clientX - windowHalfX;
            mouseY = event.clientY - windowHalfY;
        }

        var animate = function () {
            requestAnimationFrame( animate );
            renderer.render(scene, camera);
            camera.position.x += ( mouseX - camera.position.x ) * .001;
            camera.position.y += ( - mouseY - camera.position.y ) * .001;
        };

        animate();
    </script>
</div>
